# pocket-battle-sim

Backend todo:

- [x] Parse cards
  - [x] A1: 237/237 (100%)
  - [x] A1a: 70/70 (100%)
  - [x] A2: 157/157 (100%)
  - [x] A2a: 77/77 (100%)
  - [x] A2b: 73/73 (100%)
  - [ ] A3: 132/157 (84.1%)
    - [ ] Abilities
      - [ ] New triggers
        - [ ] Before Knocked Out
        - [x] After Knocked Out
      - [ ] New conditionals
        - [ ] During your first turn
      - [ ] New effects
        - [x] Heal all mon of type
        - [x] Prevent damage from ex mon
        - [ ] Apply HealSpecialConditions status to player (mon with Energy of type attached)
        - [x] Move all Energy of type from Benched mon to Active mon
        - [ ] Flip coin to set self HP to 10 (need to investigate OOO in-game)
        - [x] Move all Energy of type from self to Benched mon
        - [x] Switch with Active mon
        - [x] Put self to sleep
    - [ ] Attacks
      - [ ] New conditionals
        - [ ] Moved to the Active Spot on this turn
        - [ ] At least 1 heads
        - [ ] Opposing mon has more HP than self
        - [x] Opposing mon has Special Condition
        - [ ] Opposing mon has Ability
        - [ ] Any of own Benched mon have damage
      - [ ] New effects
        - [x] Discard random Energy from both Active mon
        - [x] Poison and Burn
        - [ ] Apply Counterattack status to self
        - [ ] Apply CannotUseItem status to opponent
        - [x] Switch with Benched mon of type
        - [ ] Apply CannotAttachEnergy status to opponent (active)
        - [ ] Also do damage to any of own mon
        - [ ] Do damage to any opposing mon for each Energy attached to it
        - [ ] Discard random filtered card from opponent's hand
        - [x] Apply random Special Condition to opposing mon
        - [ ] Apply IncreaseAttackDamage status to self
        - [ ] Apply IncreaseAttackCost and IncreaseRetreatCost statuses to opposing mon
        - [ ] Confuse self
    - [ ] Items/Supporters
      - [ ] Heal damage and remove random Special Condition
      - [x] Evolve Basic mon to Stage 2
      - [ ] Look at top card and choose to shuffle
      - [ ] Move damage from own mon to opposing mon
      - [ ] Put damaged mon into hand
      - [ ] Attach Energy to mon and end turn
      - [ ] Discard all of opponent's Pokemon Tools
      - [ ] If mon in play, switch in opponent's Benched mon of choice
      - [x] Heal all damage and discard all Energy from mon
    - [ ] Pokemon Tools
      - [x] Poison attacker when damaged
    - [ ] New Player Statuses
      - [ ] CannotAttachEnergy (PokemonPlayerStatus)
      - [ ] HealSpecialConditions (PokemonPlayerStatus)
    - [ ] New Pokemon Statuses
      - [ ] IncreaseAttackDamage (DefensePokemonStatus)
      - [ ] IncreaseAttackCost (BasePokemonStatus)
      - [ ] IncreaseRetreatCost (BasePokemonStatus)
    - [x] New Pokemon predicates
      - [x] Stage 2
      - [x] Has damage on it
    - [ ] New card predicates
      - [ ] Card that evolves from mon
      - [ ] Item card (need to investigate if Fossils count)
    - [x] Unique promo cards
      - [x] Rayquaza
      - [x] Rayquaza ex
  - [ ] A3a
    - [ ] Ultra Beasts
  - [ ] A3b
  - [ ] A4
    - [ ] Baby Pok√©mon (0-cost attacks)
  - [ ] A4a
- [x] Bring in newer sets
- [x] Single battle simulation
- [ ] Basic logic-based AI opponent (at least as competitive as Auto Mode)
  - [ ] Evolve multiple mon per turn
  - [ ] Avoid putting down multiple of the same mon if others are available
  - [ ] Properly calculate energy costs for attacking
  - [ ] Why is the bot not switching into mon that are ready to attack?
- [x] Mass battle simulation
- [ ] Deck fine-tuning via iteration

Frontend todo:

- [x] Battle simulation UI (~90%)
  - [ ] Collapse energy icons when at 5 or more
  - [ ] Display game points somewhere
  - [x] Display discard somewhere
  - [x] Display deck size and opponent hand size
  - [x] Display attached Pokemon Tools
  - [ ] Display statuses and Special Conditions
  - [ ] Concede/quit button
  - [ ] Auto mode toggle? (Will need to adjust BetterRandomAgent to be able to stop and start in the middle of a turn)
- [x] Allow user to select decks for arena
- [x] Allow user control of one or both players in arena
  - [ ] Control selectNPokemon()
  - [ ] Control distributeEnergy()
- [ ] Allow user to select set of decks to run in mass simulator
- [x] Deck list UI
  - [x] Custom and built-in decks
  - [x] Show cards and energy types in deck
- [x] Deck builder UI
  - [x] Display cards currently in deck
  - [x] Display count on card and allow +/-/x
  - [x] Allow energy selection
  - [x] Add ability to save decks and edit existing decks
  - [x] Advanced search filters
